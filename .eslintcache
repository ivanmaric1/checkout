[{"C:\\Users\\Ivan\\Desktop\\checkout\\src\\index.tsx":"1","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Shop.tsx":"2","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Menu.tsx":"3","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Cart.tsx":"4","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\HomePage.tsx":"5","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Footer.tsx":"6","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\firebase\\fire.tsx":"7","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Item.tsx":"8","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Validator.tsx":"9","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\CartItem.tsx":"10","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Summary.tsx":"11","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Order.tsx":"12","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Checkout.jsx":"13"},{"size":284,"mtime":1610914292849,"results":"14","hashOfConfig":"15"},{"size":4523,"mtime":1611069281548,"results":"16","hashOfConfig":"15"},{"size":937,"mtime":1610899170612,"results":"17","hashOfConfig":"15"},{"size":2969,"mtime":1611068881216,"results":"18","hashOfConfig":"15"},{"size":764,"mtime":1611000052237,"results":"19","hashOfConfig":"15"},{"size":157,"mtime":1610891396014,"results":"20","hashOfConfig":"15"},{"size":476,"mtime":1610879870621,"results":"21","hashOfConfig":"15"},{"size":666,"mtime":1611041847142,"results":"22","hashOfConfig":"15"},{"size":399,"mtime":1610976810312,"results":"23","hashOfConfig":"15"},{"size":1512,"mtime":1611041984900,"results":"24","hashOfConfig":"15"},{"size":2274,"mtime":1611042798835,"results":"25","hashOfConfig":"15"},{"size":156,"mtime":1611068599485,"results":"26","hashOfConfig":"15"},{"size":3275,"mtime":1611073210906,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"wrh7lt",{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"30"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Ivan\\Desktop\\checkout\\src\\index.tsx",[],["59","60"],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Shop.tsx",["61"],"import React, { useState, useEffect } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport fire from '../firebase/fire';\r\nimport Menu from '../smaller components/Menu';\r\nimport HomePage from './HomePage';\r\nimport Cart from './Cart';\r\nimport Checkout from './Checkout';\r\nimport Order from './Order';\r\nimport Footer from '../smaller components/Footer';\r\nimport './Shop.scss';\r\n\r\ninterface Item {\r\n  name: string;\r\n  price: number;\r\n  image: string;\r\n  quantity?: number;\r\n}\r\n\r\nconst Shop = () => {\r\n  const [cart, setCart] = useState<Item[]>([]);\r\n  const [items, setItems] = useState([]);\r\n  const [total, setTotal] = useState('');\r\n  const [promotions, setPromotions] = useState('');\r\n  const [promoCode, setPromoCode] = useState('');\r\n  const [approvedCode, setApprovedCode] = useState([]);\r\n  const itemsRef = fire.database().ref('/items');\r\n  const promotionsRef = fire.database().ref('/promotions');\r\n\r\n  //Download podataka kod učitavanja stranice\r\n  useEffect(() => {\r\n    const gotItems = (data: any) => {\r\n      const itemsFromServer: any = [];\r\n      const dataa = data.val();\r\n      Object.keys(dataa).forEach((item: any) =>\r\n        itemsFromServer.push(dataa[item])\r\n      );\r\n      setItems(itemsFromServer);\r\n    };\r\n    //Download itemsa sa firebase-a i spremanje u state\r\n    const gotPromotions = (data: any) => {\r\n      const itemsFromServer: any = [];\r\n      const dataa = data.val();\r\n      Object.keys(dataa).forEach((item: any) =>\r\n        itemsFromServer.push(dataa[item])\r\n      );\r\n      setPromotions(itemsFromServer);\r\n    };\r\n    //Download promotionsa sa firebase-a i spremanje u state\r\n    const errDataLoad = (err: any) => {\r\n      console.log(err);\r\n    };\r\n    promotionsRef.on('value', gotPromotions, errDataLoad);\r\n    itemsRef.on('value', gotItems, errDataLoad);\r\n  }, []);\r\n\r\n  //Dodaj proizvod u košaricu\r\n  const onAddToCart = (name: string) => {\r\n    const existInCart: any = cart.find((item: any) => item.name === name);\r\n    const newItemInCart: any = items.filter((item: any) => item.name === name);\r\n    if (existInCart) {\r\n      setCart(\r\n        cart.map((item: any) =>\r\n          item.name === name\r\n            ? {\r\n                ...existInCart,\r\n                quantity: item.quantity + 1,\r\n              }\r\n            : item\r\n        )\r\n      );\r\n    } else {\r\n      setCart([...cart, { ...newItemInCart[0], quantity: 1 }]);\r\n    }\r\n  };\r\n\r\n  //Smanji količinu proizvoda iz košarice\r\n  const onReduceFromCart = (name: string) => {\r\n    const existInCart: any = cart.find((item: any) => item.name === name);\r\n    if (existInCart.quantity === 1) {\r\n      setCart(cart.filter((item: any) => item.name !== name));\r\n    } else {\r\n      setCart(\r\n        cart.map((item: any) =>\r\n          item.name === name\r\n            ? {\r\n                ...existInCart,\r\n                quantity: item.quantity - 1,\r\n              }\r\n            : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  //Obriši proizvod iz košarice\r\n  const onRemoveFromCart = (name: string) => {\r\n    setCart(cart.filter((item: any) => item.name !== name));\r\n  };\r\n\r\n  //Obriši promo code\r\n  const deletePromoCode = (code: string) => {\r\n    const matching = approvedCode.filter(\r\n      (item: any) => item.code !== promoCode\r\n    );\r\n    if (matching) {\r\n      setApprovedCode(matching);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Shop\">\r\n      <div className=\"Shop-container\">\r\n        <Menu />\r\n        <Switch>\r\n          <Route\r\n            path=\"/cart\"\r\n            component={() => (\r\n              <Cart\r\n                cart={cart}\r\n                total={total}\r\n                setTotal={setTotal}\r\n                onAddToCart={onAddToCart}\r\n                onReduceFromCart={onReduceFromCart}\r\n                onRemoveFromCart={onRemoveFromCart}\r\n                promotions={promotions}\r\n                approvedCode={approvedCode}\r\n                setApprovedCode={setApprovedCode}\r\n                promoCode={promoCode}\r\n                setPromoCode={setPromoCode}\r\n                deletePromoCode={deletePromoCode}\r\n              />\r\n            )}\r\n          />\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            component={() => (\r\n              <HomePage items={items} onAddToCart={onAddToCart} />\r\n            )}\r\n          />\r\n\r\n          <Route path=\"/checkout\" component={Checkout} />\r\n          <Route path=\"/summary\" component={Order} />\r\n        </Switch>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Shop;\r\n","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Menu.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Cart.tsx",["62","63"],"import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport CartItem from '../smaller components/CartItem';\r\nimport Summary from '../smaller components/Summary';\r\n\r\nimport './Cart.scss';\r\n\r\ninterface Props {\r\n  cart: any[];\r\n  promotions: any;\r\n  approvedCode: any;\r\n  total: any;\r\n  setApprovedCode: any;\r\n  promoCode: string;\r\n  setPromoCode: (code: string) => void;\r\n  setTotal: any;\r\n  deletePromoCode: (name: string) => void;\r\n  onAddToCart: (name: string) => void;\r\n  onReduceFromCart: (name: string) => void;\r\n  onRemoveFromCart: (name: string) => void;\r\n}\r\n\r\ninterface Item {\r\n  name: string;\r\n  price: number;\r\n  image: string;\r\n  quantity?: number;\r\n}\r\n\r\nconst Cart: React.FC<Props> = ({\r\n  cart,\r\n  total,\r\n  promotions,\r\n  approvedCode,\r\n  promoCode,\r\n  setPromoCode,\r\n  setTotal,\r\n  deletePromoCode,\r\n  onAddToCart,\r\n  onReduceFromCart,\r\n  onRemoveFromCart,\r\n  setApprovedCode,\r\n}) => {\r\n  useEffect(() => {\r\n    calculateTotalPrice();\r\n  });\r\n\r\n  const calculateTotalPrice = () => {\r\n    let totalPrice: any =\r\n      cart.length === 0\r\n        ? 0\r\n        : cart.length === 1\r\n        ? (cart[0].price * cart[0].quantity).toFixed(2)\r\n        : cart.reduce((a: any, b: any) => a + b.price * b.quantity, 0);\r\n\r\n    if (approvedCode.length > 0) {\r\n      const find = approvedCode.find((item: any) => item.code === '20%OFF');\r\n      if (find) {\r\n        totalPrice = (totalPrice * 0.8).toFixed(2);\r\n      }\r\n    }\r\n    setTotal(totalPrice);\r\n  };\r\n\r\n  const addPromoCode = () => {\r\n    const matching = promotions.filter((item: any) => item.code === promoCode);\r\n    if (matching) {\r\n      if (approvedCode.length > 0) {\r\n        if (approvedCode[0].code !== '20%OFF') {\r\n          let code: any = [...approvedCode, matching[0]];\r\n          setApprovedCode(code);\r\n        } else {\r\n          console.log(1);\r\n        }\r\n      } else {\r\n        let code: any = [...approvedCode, matching[0]];\r\n        setApprovedCode(code);\r\n      }\r\n    }\r\n  };\r\n\r\n  console.log(promotions);\r\n\r\n  return (\r\n    <div className=\"Cart\">\r\n      <div className=\"Cart-items\">\r\n        {cart.length === 0 ? <h3>Cart Is Empty</h3> : <h3>Cart Items</h3>}\r\n        {cart.map((item: any) => {\r\n          return (\r\n            <CartItem\r\n              item={item}\r\n              onReduceFromCart={onReduceFromCart}\r\n              onAddToCart={onAddToCart}\r\n              deletePromoCode={deletePromoCode}\r\n              onRemoveFromCart={onRemoveFromCart}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n      <div className=\"Summary-wrapper\">\r\n        <Summary\r\n          total={total}\r\n          setPromoCode={setPromoCode}\r\n          addPromoCode={addPromoCode}\r\n          deletePromoCode={deletePromoCode}\r\n          approvedCode={approvedCode}\r\n        />\r\n        <Link to=\"/checkout\">\r\n          <button className=\"Cart-checkout\">CKECKOUT</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\HomePage.tsx",["64","65","66","67"],"import React, { useState, useEffect } from 'react';\r\nimport Item from '../smaller components/Item';\r\nimport fire from '../firebase/fire';\r\nimport './HomePage.scss';\r\n\r\ninterface Props {\r\n  onAddToCart: (name: string) => void;\r\n  items: any;\r\n}\r\n\r\nconst HomePage: React.FC<Props> = ({ onAddToCart, items }) => {\r\n  const i: any = [];\r\n  const Items = Object.keys(items).forEach((ir: any) => {\r\n    i.push(items[ir]);\r\n  });\r\n\r\n  return (\r\n    <div className=\"HomePage\">\r\n      <h3>Products</h3>\r\n      {i.map((item: any) => (\r\n        <Item\r\n          name={item.name}\r\n          price={item.price}\r\n          img={item.image}\r\n          onAddToCart={onAddToCart}\r\n          key={item.name}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Footer.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\firebase\\fire.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Item.tsx",["68"],"import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport './Item.scss';\r\n\r\ninterface Props {\r\n  name: string;\r\n  price: number;\r\n  img: string;\r\n  onAddToCart: (name: string) => void;\r\n}\r\n\r\nconst Item: React.FC<Props> = ({ name, price, img, onAddToCart }) => {\r\n  return (\r\n    <div className=\"Item\">\r\n      <img src={img} alt={`${name} image`} />\r\n      <p className=\"Item-field\">{name}</p>\r\n      <p className=\"Item-field\">{price}</p>\r\n      <Button\r\n        variant=\"outlined\"\r\n        size=\"medium\"\r\n        onClick={() => onAddToCart(name)}\r\n      >\r\n        Add to cart\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Item;\r\n","C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Validator.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\CartItem.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\smaller components\\Summary.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Order.tsx",[],"C:\\Users\\Ivan\\Desktop\\checkout\\src\\components\\pages\\Checkout.jsx",[],{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":54,"column":6,"nodeType":"75","endLine":54,"endColumn":8,"suggestions":"76"},{"ruleId":"77","severity":1,"message":"78","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":25},{"ruleId":"77","severity":1,"message":"81","line":23,"column":11,"nodeType":"79","messageId":"80","endLine":23,"endColumn":15},{"ruleId":"77","severity":1,"message":"78","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":25},{"ruleId":"77","severity":1,"message":"82","line":1,"column":27,"nodeType":"79","messageId":"80","endLine":1,"endColumn":36},{"ruleId":"77","severity":1,"message":"83","line":3,"column":8,"nodeType":"79","messageId":"80","endLine":3,"endColumn":12},{"ruleId":"77","severity":1,"message":"84","line":13,"column":9,"nodeType":"79","messageId":"80","endLine":13,"endColumn":14},{"ruleId":"85","severity":1,"message":"86","line":15,"column":7,"nodeType":"87","endLine":15,"endColumn":46},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'itemsRef' and 'promotionsRef'. Either include them or remove the dependency array.","ArrayExpression",["90"],"@typescript-eslint/no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Item' is defined but never used.","'useEffect' is defined but never used.","'fire' is defined but never used.","'Items' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don’t need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","no-global-assign","no-unsafe-negation",{"desc":"91","fix":"92"},"Update the dependencies array to be: [itemsRef, promotionsRef]",{"range":"93","text":"94"},[1825,1827],"[itemsRef, promotionsRef]"]