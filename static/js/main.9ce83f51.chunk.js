(this.webpackJsonpcheckout=this.webpackJsonpcheckout||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n(1),r=n(15),i=n.n(r),s=n(23),o=n(57),l=n(28),d=n(17),j=n(18),u=n(73).a.initializeApp({apiKey:"AIzaSyASC8utpLpxINC36rLWIqvbuXr17U8ANlY",authDomain:"shop-46650.firebaseapp.com",databaseURL:"https://shop-46650-default-rtdb.firebaseio.com",projectId:"shop-46650",storageBucket:"shop-46650.appspot.com",messagingSenderId:"1075615820227",appId:"1:1075615820227:web:83d35a4c13bcfd12943576"}),m=n.p+"static/media/logo.41f9dd50.png",b=n(70),O=n.n(b),h=(n(88),function(e){var t=e.numberOfItems;return Object(c.jsxs)("div",{className:"Menu",children:[Object(c.jsx)(s.b,{to:"/",children:Object(c.jsx)("img",{src:m,alt:"Logo",className:"Menu-logo"})}),Object(c.jsxs)("div",{className:"Menu-list",children:[Object(c.jsxs)("ul",{className:"Menu-list-sections",children:[Object(c.jsx)(s.b,{to:"/",children:Object(c.jsx)("li",{children:"Shop"})}),Object(c.jsx)("li",{children:"Gift Cards"}),Object(c.jsx)("li",{children:"Wish List"}),Object(c.jsx)("li",{children:"Customer Services"}),Object(c.jsx)("li",{children:"Home"})]}),Object(c.jsxs)("ul",{className:"Menu-list-search-cart",children:[Object(c.jsx)("li",{children:"Search"}),Object(c.jsx)("li",{className:"icon",children:Object(c.jsxs)(s.b,{to:"/cart",children:[Object(c.jsx)(O.a,{fontSize:"large"}),Object(c.jsx)("span",{children:t})]})})]})]})]})}),x=n(138),f=(n(94),function(e){var t=e.name,n=e.price,a=e.img,r=e.cart,i=e.onAddToCart,s=r.find((function(e){return e.name===t}));return Object(c.jsxs)("div",{className:"Item",children:[Object(c.jsx)("img",{src:a,alt:"".concat(t," image")}),Object(c.jsx)("p",{className:"Item-field",children:t}),Object(c.jsx)("p",{className:"Item-field",children:"".concat(n," $")}),Object(c.jsx)(x.a,{variant:"outlined",size:"medium",onClick:function(){return i(t)},className:"Item-field",children:s&&s.name===t?"In cart / Add more":"Add to cart"})]})}),p=(n(95),function(e){var t=e.onAddToCart,n=e.items,a=e.cart,r=[];Object.keys(n).forEach((function(e){r.push(n[e])}));return Object(c.jsxs)("div",{className:"HomePage",children:[Object(c.jsx)("h3",{children:"Products"}),r.map((function(e){return Object(c.jsx)(f,{name:e.name,price:e.price,img:e.image,onAddToCart:t,cart:a},e.name)}))]})}),v=n(65),y=n(55),C=n.n(y),N=(n(96),function(e){var t=e.item,n=e.onRemoveFromCart,a=e.onAddToCart,r=(e.deletePromoCode,e.onReduceFromCart),i=t.price*t.quantity;return"Motion Sensor"===t.name&&t.quantity>1&&(i=t.quantity%3===0?t.quantity/3*65:t.quantity%3===1?(t.quantity-1)/3*65+24.99:(t.quantity-2)/3*65+24.99+24.99),"Smoke Sensor"===t.name&&t.quantity>1&&(i=t.quantity%2===0?t.quantity/2*35:(t.quantity-1)/2*35+19.99),Object(c.jsxs)("div",{className:"CartItem",children:[Object(c.jsx)("img",{src:t.image,alt:t.name,className:"CartItem-img"}),Object(c.jsx)("p",{className:"CartItem-bigg",children:t.name}),Object(c.jsx)("p",{className:"CartItem-small price",children:"".concat(t.price," $")}),Object(c.jsxs)("div",{className:"CartItem-quantity CartItem-small",children:[Object(c.jsx)(x.a,{variant:"contained",color:"primary",onClick:function(){return r(t.name)},children:"-"}),Object(c.jsx)("p",{children:t.quantity}),Object(c.jsx)(x.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return a(t.name)},children:"+"})]}),Object(c.jsx)("p",{className:"CartItem-small",children:i.toFixed(2)+" $"}),Object(c.jsx)(C.a,{color:"secondary",fontSize:"large",onClick:function(){return n(t.name)}})]},t.name)}),g=n(71),S=n.n(g),q=n(137),E=(n(97),function(e){var t=e.total,n=e.motionQuantity,a=e.smokeQuantity,r=e.promoCode,i=e.approvedCode,s=e.setPromoCode,o=e.applyPromoCode,l=e.error,d=e.deletePromoCode;return Object(c.jsxs)("div",{className:"Summary",children:[Object(c.jsx)("h3",{children:"Summary"}),Object(c.jsxs)("div",{className:"Summary-total",children:[Object(c.jsx)("p",{children:"Total products:"}),"".concat(t," $")]}),Object(c.jsxs)("div",{className:"Summary-total",children:[Object(c.jsx)("p",{children:"Shipping costs"}),Object(c.jsx)("p",{children:"Free"})]}),Object(c.jsxs)("div",{className:"Summary-promo bold",children:[Object(c.jsx)("p",{children:"Add promo code"}),Object(c.jsxs)("div",{className:"Summary-promo-form",children:[Object(c.jsx)(q.a,{label:"CODE",variant:"outlined",onChange:function(e){return s(e.target.value)},size:"small",value:r}),Object(c.jsx)(x.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return o()},children:"APPLY"})]})]}),Object(c.jsxs)("div",{className:"Summary-promo-applyed",children:[i.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"Summary-promo-applyed-code",children:[Object(c.jsxs)("div",{className:"Summary-promo-applyed-code-box",children:[Object(c.jsx)(S.a,{color:"primary"}),Object(c.jsxs)("p",{children:[e.code," COUPON APPLYED"]})]}),Object(c.jsx)(C.a,{color:"secondary",onClick:function(){return d(e.code)}})]}),Object(c.jsx)("p",{className:"description",children:e.description})]},e.code)})),Object(c.jsx)("p",{className:"Error",children:l})]}),Object(c.jsxs)("div",{className:"Summary-quantity",children:[Object(c.jsx)("p",{children:n?"3 Motion sensors for 65.00 EUR":null}),Object(c.jsx)("p",{children:a?"2 Smoke Sensors for 35.00 EUR":null})]}),Object(c.jsxs)("div",{className:"Summary-total bold",children:[Object(c.jsx)("p",{children:"Total:"}),"".concat(t," $")]})]})}),F=(n(98),function(e){var t=e.cart,n=e.promotions,r=e.approvedCode,i=e.total,j=e.setTotal,u=e.setApprovedCode,m=e.onAddToCart,b=e.onReduceFromCart,O=e.onRemoveFromCart,h=e.setNumberOfItems,x=Object(a.useState)(""),f=Object(d.a)(x,2),p=f[0],y=f[1],C=Object(a.useState)(""),g=Object(d.a)(C,2),S=g[0],q=g[1],F=Object(a.useState)(!1),I=Object(d.a)(F,2),k=I[0],A=I[1],T=Object(a.useState)(!1),R=Object(d.a)(T,2),P=R[0],M=R[1];Object(a.useEffect)((function(){D()}));var D=function(){var e=0;if(0===t.length&&(e=0),1===t.length&&("Motion Sensor"===t[0].name&&t[0].quantity>2?(A(!0),e=t[0].quantity%3===0?t[0].quantity/3*65:t[0].quantity%3===1?(t[0].quantity-1)/3*65+24.99:(t[0].quantity-2)/3*65+24.99+24.99):e=t[0].price*t[0].quantity,"Smoke Sensor"===t[0].name&&(t[0].quantity>1?(M(!0),e=t[0].quantity%2===0?t[0].quantity/2*35:(t[0].quantity-1)/2*35+19.99):e=t[0].price*t[0].quantity)),t.length>1){var n,c=0,a=(t.find((function(e){return"Motion Sensor"===e.name})),t.find((function(e){return"Smoke Sensor"===e.name})),Object(v.a)(t));try{for(a.s();!(n=a.n()).done;){var i=n.value;"Motion Sensor"===i.name?i.quantity>2?(A(!0),i.quantity%3===0?c+=i.quantity/3*65:i.quantity%3===1?c+=(i.quantity-1)/3*65+24.99:c+=(i.quantity-2)/3*65+24.99+24.99):c+=i.price*i.quantity:"Smoke Sensor"===i.name?i.quantity>1?(M(!0),i.quantity%2===0?c+=i.quantity/2*35:c+=(i.quantity-1)/2*35+19.99):c+=i.price:c+=i.price*i.quantity}}catch(o){a.e(o)}finally{a.f()}e=c}r.find((function(e){return"20%OFF"===e.code}))&&(e*=.8),r.find((function(e){return"5%OFF"===e.code}))&&(e*=.95),r.find((function(e){return"20EUROFF"===e.code}))&&(e-=20);var s=e.toFixed(2);j(s)},L=function(e){var t=r.filter((function(t){return t.code!==e}));t&&u(t),q("")};if(t.length>0)if(1===t.length)h(t[0].quantity);else{var U,Y=0,z=Object(v.a)(t);try{for(z.s();!(U=z.n()).done;){Y+=U.value.quantity}}catch(V){z.e(V)}finally{z.f()}h(Y)}else h(0);return Object(c.jsxs)("div",{className:"Cart",children:[Object(c.jsxs)("div",{className:"Cart-items",children:[0===t.length?Object(c.jsx)("h3",{children:"Cart Is Empty"}):Object(c.jsx)("h3",{children:"Cart Items"}),t.map((function(e){return Object(c.jsx)(N,{item:e,onReduceFromCart:b,onAddToCart:m,deletePromoCode:L,onRemoveFromCart:O},e.name)}))]}),t.length>0?Object(c.jsxs)("div",{className:"Summary-wrapper",children:[Object(c.jsx)(E,{total:i,promoCode:p,setPromoCode:y,applyPromoCode:function(){q("");var e=n.find((function(e){return e.code===p}));if(e)if(r.find((function(t){return t.code===e.code})))q("Cannot add same coupon or 20%OFF with this coupons");else if("20%OFF"===e.code)0===r.length?(y(""),u([Object(l.a)({},e)])):q("Coupon 20%OFF cannot be used in conjunction with other codes");else if(0===r.length)y(""),u([Object(l.a)({},e)]);else if("20%OFF"!==r[0].code){y("");var t=[].concat(Object(o.a)(r),[Object(l.a)({},e)]);u(t)}else q("Coupon cannot be used in conjunction with 20%OFF coupon");else q("Wrong code");y("")},error:S,deletePromoCode:L,approvedCode:r,motionQuantity:k,smokeQuantity:P}),Object(c.jsx)("button",{className:"Cart-checkout",onClick:function(){document.getElementById("Validator").style.display="block"},children:"CKECKOUT"})]}):null,Object(c.jsxs)("div",{className:"Validator",id:"Validator",children:[Object(c.jsx)("p",{children:"DO YOU WANT TO CHECKOUT"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)(s.b,{to:"/checkout",children:Object(c.jsx)("li",{children:"YES"})}),Object(c.jsx)("li",{onClick:function(){document.getElementById("Validator").style.display="none"},children:"NO"})]})]})]})}),I=n(72),k=(n(100),n(101),function(e){var t=e.name,n=e.setName,r=e.email,i=e.setEmail,o=e.adress,l=e.setAdress,j=Object(a.useState)(""),u=Object(d.a)(j,2),m=u[0],b=u[1],O=Object(a.useState)(""),h=Object(d.a)(O,2),x=h[0],f=h[1],p=Object(a.useState)(""),v=Object(d.a)(p,2),y=v[0],C=v[1],N=Object(a.useState)(""),g=Object(d.a)(N,2),S=g[0],E=g[1],F=Object(a.useState)(""),k=Object(d.a)(F,2),A=k[0],T=k[1];return Object(c.jsxs)("div",{className:"Checkout",children:[Object(c.jsx)("h3",{children:"Checkout"}),Object(c.jsxs)("form",{className:"Checkout-form",id:"checkout",onSubmit:function(e){e.preventDefault()},children:[Object(c.jsxs)("div",{className:"Checkout-form-left",children:[Object(c.jsxs)("div",{className:"Checkout-form-info",children:[Object(c.jsx)(q.a,{id:"filled-basic",label:"Name",required:!0,name:"name",value:t,onChange:function(e){return n(e.target.value)}}),Object(c.jsx)(q.a,{id:"filled-basic",label:"E-mail",required:!0,name:"number",value:r,onChange:function(e){return i(e.target.value)}}),Object(c.jsx)(q.a,{id:"filled-basic",label:"Adress",required:!0,name:"number",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(c.jsxs)("div",{className:"Checkout-form-card",children:[Object(c.jsx)(q.a,{label:"Card Number",required:!0,name:"number",value:m,onChange:function(e){return b(e.target.value)},onFocus:function(e){return T(e.target.name)}}),Object(c.jsx)(q.a,{label:"Name",required:!0,name:"name",value:x,size:"small",onChange:function(e){return f(e.target.value)},onFocus:function(e){return T(e.target.name)}}),Object(c.jsx)(q.a,{label:"MM/YY Expiry",required:!0,name:"expiry",value:y,onChange:function(e){return C(e.target.value)},onFocus:function(e){return T(e.target.name)}}),Object(c.jsx)(q.a,{label:"CVC",required:!0,name:"cvc",value:S,onChange:function(e){return E(e.target.value)},onFocus:function(e){return T(e.target.name)}})]})]}),Object(c.jsxs)("div",{className:"Checkout-form-right",children:[Object(c.jsx)("div",{className:"Checkout-card",children:Object(c.jsx)(I.a,{number:m,name:t,expiry:y,cvc:S,focused:A})}),Object(c.jsx)("button",{className:"finish",type:"submit",onClick:function(){t.length>0&&r.length>0&&o.length>0&&m.length>0&&x.length>0&&y.length>0&&S.length>0&&A.length>0&&(document.getElementById("ValidatorFinish").style.display="block")},children:"FINISH ORDER"})]})]}),Object(c.jsxs)("div",{className:"ValidatorFinish",id:"ValidatorFinish",children:[Object(c.jsx)("p",{children:"DO YOU WANT TO FINISH ORDER"}),Object(c.jsxs)("ul",{children:[Object(c.jsx)(s.b,{to:"/order",children:Object(c.jsx)("li",{children:"YES"})}),Object(c.jsx)("li",{onClick:function(){document.getElementById("ValidatorFinish").style.display="none"},children:"NO"})]})]})]})}),A=(n(102),function(e){var t=e.cart,n=e.approvedCode,a=e.total,r=e.name,i=e.adress,o=e.email;return Object(c.jsxs)("div",{className:"Order",children:[Object(c.jsx)("h3",{children:"ORDER COMPLETED!"}),Object(c.jsxs)("div",{className:"Order-data",children:[Object(c.jsxs)("div",{className:"Order-data-items",children:[Object(c.jsx)("h3",{children:"ITEMS"}),Object(c.jsxs)("div",{className:"Order-legend",children:[Object(c.jsx)("p",{children:"NAME"}),Object(c.jsx)("p",{children:"PRICE"}),Object(c.jsx)("p",{children:"QUANTITY"}),Object(c.jsx)("p",{children:"TOTAL PRICE"})]}),t.map((function(e){return Object(c.jsxs)("div",{className:"Order-item",children:[Object(c.jsx)("p",{children:e.name}),Object(c.jsx)("p",{children:e.price}),Object(c.jsx)("p",{children:e.quantity}),Object(c.jsx)("p",{children:(e.quantity*e.price).toFixed(2)})]},e.name)}))]}),Object(c.jsx)("h3",{children:"ORDER INFO"}),Object(c.jsxs)("div",{className:"Order-data-info",children:[Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"NAME"}),Object(c.jsx)("td",{children:r})]})}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"E-MAIL"}),Object(c.jsx)("td",{children:o})]}),Object(c.jsx)("tfoot",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"ADRESS"}),Object(c.jsx)("td",{children:i})]})})]}),Object(c.jsxs)("table",{children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"COUPONS APPLYED"}),Object(c.jsx)("td",{children:n.map((function(e){return Object(c.jsx)("span",{className:"Order-data-info-code",children:e.code})}))})]})}),Object(c.jsx)("tfoot",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:"PRICE TOTAL: "}),Object(c.jsx)("td",{children:a})]})})]})]})]}),Object(c.jsx)(s.b,{to:"/",children:Object(c.jsx)("button",{className:"Order-btn",children:"BACK TO HOME"})})]})}),T=(n(103),function(){return Object(c.jsx)("div",{className:"Footer",children:"Gadget Shop 2021"})}),R=(n(104),function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),s=Object(d.a)(i,2),m=s[0],b=s[1],O=Object(a.useState)(""),x=Object(d.a)(O,2),f=x[0],v=x[1],y=Object(a.useState)(""),C=Object(d.a)(y,2),N=C[0],g=C[1],S=Object(a.useState)(""),q=Object(d.a)(S,2),E=q[0],I=q[1],R=Object(a.useState)(""),P=Object(d.a)(R,2),M=P[0],D=P[1],L=Object(a.useState)(""),U=Object(d.a)(L,2),Y=U[0],z=U[1],V=Object(a.useState)(0),w=Object(d.a)(V,2),B=w[0],H=w[1],K=Object(a.useState)([]),Q=Object(d.a)(K,2),W=Q[0],$=Q[1],G=Object(a.useState)(0),J=Object(d.a)(G,2),X=(J[0],J[1],u.database().ref("/items")),Z=u.database().ref("/promotions");Object(a.useEffect)((function(){var e=function(e){console.log(e)};Z.on("value",(function(e){var t=[],n=e.val();Object.keys(n).forEach((function(e){return t.push(n[e])})),z(t)}),e),X.on("value",(function(e){var t=[],n=e.val();Object.keys(n).forEach((function(e){return t.push(n[e])})),b(t)}),e)}),[]);var _=function(e){var t=n.find((function(t){return t.name===e})),c=m.filter((function(t){return t.name===e}));t?(r(n.map((function(n){return n.name===e?Object(l.a)(Object(l.a)({},t),{},{quantity:n.quantity+1}):n}))),H(B+1)):(r([].concat(Object(o.a)(n),[Object(l.a)(Object(l.a)({},c[0]),{},{quantity:1})])),H(B+1))},ee=function(e){var t=n.find((function(t){return t.name===e}));1===t.quantity?r(n.filter((function(t){return t.name!==e}))):r(n.map((function(n){return n.name===e?Object(l.a)(Object(l.a)({},t),{},{quantity:n.quantity-1}):n})))},te=function(e){r(n.filter((function(t){return t.name!==e})))};return Object(c.jsxs)("div",{className:"Shop",children:[Object(c.jsxs)("div",{className:"Shop-container",children:[Object(c.jsx)(h,{numberOfItems:B}),Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/cart",component:function(){return Object(c.jsx)(F,{cart:n,onAddToCart:_,onReduceFromCart:ee,onRemoveFromCart:te,promotions:Y,setNumberOfItems:H,approvedCode:W,setApprovedCode:$,total:f,setTotal:v})}}),Object(c.jsx)(j.a,{exact:!0,path:"/",component:function(){return Object(c.jsx)(p,{items:m,onAddToCart:_,cart:n})}}),Object(c.jsx)(j.a,{path:"/checkout",component:function(){return Object(c.jsx)(k,{name:N,setName:g,email:E,setEmail:I,adress:M,setAdress:D})}}),Object(c.jsx)(j.a,{path:"/order",component:function(){return Object(c.jsx)(A,{cart:n,total:f,name:N,email:E,adress:M,approvedCode:W})}})]})]}),Object(c.jsx)(T,{})]})});n(105);i.a.render(Object(c.jsx)(s.a,{children:Object(c.jsx)(R,{})}),document.getElementById("root"))},88:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},98:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.9ce83f51.chunk.js.map